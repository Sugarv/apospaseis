# Σύστημα αποσπάσεων - βελτιώσεων για Δ/νσεις Εκπ/σης.
Βαγγέλης Ζαχαριουδάκης, ΠΕ20
Πληροφορίες: it@dipe.ira.sch.gr
(c) 2013-18

Το σύστημα αποσπάσεων - βελτιώσεων αποτελεί ένα εύκολο τρόπο υποβολής αιτήσεων αποσπάσεων και βελτιώσεων (εντός Περιφερειακής ενότητας)
μέσω διαδικτύου.
Με τη χρήση του, 
- εκλείπει η ανάγκη φυσικής μετάβασης του ενδιαφερομένου εκπ/κού στην υπηρεσία, 
- δίνεται η δυνατότητα υποβολής όλο το 24ωρο και η 
- δυνατότητα διόρθωσης πριν την υποβολή. 
- Επιπλέον, εκμηδενίζεται η πιθανότητα λάθους κατά την καταχώρηση από τους υπαλλήλους της Δ/νσης.

Αναπτύχθηκε από τον Βαγγέλη Ζαχαριουδάκη, εκπ/κό ΠΕ20, εξ'ολοκλήρου με εργαλεία ανοιχτού λογισμικού (PHP,MySQL,JQuery) μεταξύ 2013-2018 για
λογαριασμό της Δ/νσης Π.Ε. Ηρακλείου.

## Δοκιμαστική έκδοση της εφαρμογής βρίσκεται στη δ/νση: http://apospaseis.radiq.gr

### ΣΗΜΕΙΩΣΗ: 
Το πρόγραμμα αποσπάσεων βελτιώσεων εξάγει δεδομένα σε μορφή excel (xls) τα οποία έπειτα χρησιμοποιούνται
στο κατάλληλα διαμορφωμένο πρόγραμμα PPYSDE (http://www.metallinos.gr/pysde.html) το οποίο διατίθεται ΔΩΡΕΑΝ και
χρησιμοποιείται με επιτυχία στη Δ/νση ΠΕ Ηρακλείου εδώ και κάποια χρόνια.

Στο πρόγραμμα αυτό, αφού προηγουμένως εισαχθούν τα στοιχεία εκπ/κών και σχολείων, εισάγονται τα στοιχεία 
του παρόντος προγράμματος από το αρχείο xls και πραγματοποιούνται οι αποσπάσεις / βελτιώσεις.
Περισσότερες πληροφορίες στη σελίδα του PPYSDE (http://www.metallinos.gr/pysde.html) ή στο email του δημιουργού gianpan@gmail.com


### ΟΔΗΓΙΕΣ
1. Αποσυμπιέστε και αντιγράψτε το φάκελο με όλα τα αρχεία σε ένα φάκελο του web server σας (π.χ. φάκελος apospaseis για είσοδο από URL  http://www.test.com/apospaseis)

2. Αλλάξτε τις παραμέτρους στο config.php (βλ. Παράρτημα). Οι παράμετροι μεταβάλλονται έπειτα και από το περιβάλλον διαχείρισης.

3. Τρέξτε το init.php μέσω του οποίου: 
    * δημιουργείτε μια Βάση Δεδομένων και λογαριασμό διαχειριστή και
    * εισάγετε τα δεδομένα σας στους πίνακες Σχολείων, υπαλλήλων και Δήμων, σύμφωνα με τα πρότυπα αρχεία csv του φακέλου 'files' (βλ. παρατηρήσεις).


### ΠΑΡΑΤΗΡΗΣΕΙΣ
1. Στον πίνακα (αρχείο) σχολείων, 
    * το πεδίο "Ομάδα" μπορεί να χρησιμοποιηθεί για τον περιορισμό των αποσπάσεων, π.χ. εκπ/κός δεν μπορεί να πάρει απόσπαση σε σχολεία της ίδιας ομάδας. 
Για να αναιρέσετε αυτόν τον περιορισμό, βάλτε την τιμή 0 στο αντίστοιχο πεδίο, σε όλα τα σχολεία. 
    * Επίσης, όταν είναι ενεργό το πεδιό "inactive" (τιμή 1), το σχολείο δεν εμφανίζεται στις διαθέσιμες επιλογές του εκπ/κού (π.χ. για σχολείο σε αναστολή).
    * Πεδίο "id": Ο αύξων αριθμός του κάθε σχολείου. Προσοχή να μην είναι μηδέν και να μην επαναλαμβάνεται.
    * Πεδίο "dim": τιμή 1 για Νηπιαγωγεία, 2 για Δημοτικά, αλλιώς 0. Πεδίο "kwdikos": 7ψήφιος κωδικός ΥΠΑΙΘ.

2. Πίνακας (αρχείο) υπαλλήλων: 
    * Πεδίο "klados": Λεκτικό ειδικότητας, π.χ. ΠΕ70
    * Πεδίο "org": 7ψήφιος κωδικός ΥΠΑΙΘ. 
    * Πεδία eth,mhnes,hmeres: συνολική υπηρεσία μέχρι 31/8 τρέχοντος σχολικού έτους.

3. Βεβαιωθείτε ότι τα αρχεία έχουν το χαρακτήρα ";" ως διαχωριστικό


### ΠΑΡΑΡΤΗΜΑ: Αρχείο παραμέτρων (config.php):
###### ΣΗΜ.: Όπου η παράμετρος είναι 1 σημαίνει ενεργοποιημένη. Για απενεργοποίηση βάλτε 0.
###### ΣΗΜ.2: Οι παράμετροι μεταβάλλονται και μέσα από το περιβάλλον διαχείρισης (επιλογή Μεταβολή παραμέτρων)

##### Στοιχεία σύνδεσης
* db_host = Όνομα εξυπηρετητή (server, π.χ. localhost)
* db_user = Όνομα διαχειριστή βάσης δεδομένων
* db_password = Κωδικός διαχειριστή βάσης δεδομένων
* db_name = Όνομα βάσης δεδομένων

##### Ονόματα πινάκων
* av_emp = Πίνακας υπαλλήλων
* av_ait = Πίνακας αιτήσεων
* av_sch = Πίνακας σχολείων
* av_dimos = Πίνακας δήμων

##### Παράμετροι εφαρμογής
* av_type = Τύπος εφαρμογής: 1 = Αποσπάσεις, 2 = Βελτιώσεις
* av_title = Τίτλος εφαρμογής (π.χ. Online υποβολή αιτήσεων για απόσπαση - προσωρινή τοποθέτηση)
* av_foreas = Φορέας αιτήσεων (ΠΥΣΠΕ / ΠΥΣΔΕ) (π.χ. ΠΥΣΠΕ Ηρακλείου)
* av_nomos = Νομός (βλ. Περιφερειακή ενότητα)
* av_dnsh = Δ/νση αιτήσεων (π.χ. Διεύθυνση Πρωτοβάθμιας Εκπ/σης Ηρακλείου)
* av_athmia = 1 : Χρήση σε Δ/νση Πρωτοβάθμιας
* av_custom = Πρόσθετο μήνυμα (εμφανίζεται στην οθόνη Login, κάτω απ'το login)
* av_display_login = 1; // Προβολή ή όχι του login
* av_is_active = 1; // Σύστημα ενεργό ή όχι. Αν είναι ανενεργό, μόνο ο διαχειριστής μπορεί να εισέλθει.
* av_active_from = ενεργό από
* av_active_to = ενεργό έως
* av_active_to_time =  ενεργό έως ώρα (η απενεργοποίηση πρέπει να γίνει χειροκίνητα, δε γίνεται αυτόματα)
* av_endofyear = τέλος σχολικού έτους (για υπολογισμό υπηρεσίας) π.χ. av_endofyear = "31/08/2015";
* av_etos = έτος αιτήσεων π.χ. av_etos = "2015";
* av_sxoletos = σχολικό έτος π.χ. av_sxoletos = "2014-15";
* Σύνδεσμος εγκυκλίου (εμφανίζεται στη βοήθεια της εφαρμογής)(_vel : έγγραφο βελτιώσεων)

##### Επιλογές Διαχειριστή
* av_admin = Όνομα χρήστη διαχειριστή (ΠΡΟΣΟΧΗ: πρέπει να είναι ΑΡΙΘΜΗΤΙΚΟ)
(ΣΗΜ. Ο κωδικός χρήστη είναι το πεδίο ΑΦΜ του και εισάγεται στο init.php ή απευθείας στη βάση).
* av_init_pass = Κωδικός ασφαλείας για το αρχικοποίηση βάσης (init.php)
* av_canundo = Ο διαχειριστής μπορεί να αναιρέσει την υποβολή, π.χ. av_canundo = 1;
* av_canalter = Ο διαχειριστής μπορεί να αλλάξει την οργανική και τη συνολική υπηρεσία του εκπ/κού, π.χ. av_canalter = 1;
