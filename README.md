# Σύστημα αποσπάσεων - βελτιώσεων για Δ/νσεις Εκπ/σης.
Βαγγέλης Ζαχαριουδάκης, ΠΕ20
Πληροφορίες: it@dipe.ira.sch.gr
(c) 2013-20

Το σύστημα αποσπάσεων - βελτιώσεων αποτελεί ένα εύκολο τρόπο υποβολής αιτήσεων αποσπάσεων και βελτιώσεων (εντός Περιφερειακής ενότητας)
μέσω διαδικτύου.
Με τη χρήση του, 
- εκλείπει η ανάγκη φυσικής μετάβασης του ενδιαφερομένου εκπ/κού στην υπηρεσία, 
- δίνεται η δυνατότητα υποβολής όλο το 24ωρο και η 
- δυνατότητα διόρθωσης πριν την υποβολή. 
- Επιπλέον, εκμηδενίζεται η πιθανότητα λάθους κατά την καταχώρηση από τους υπαλλήλους της Δ/νσης.

Αναπτύσσεται από τον Βαγγέλη Ζαχαριουδάκη, εκπ/κό ΠΕ20, εξ'ολοκλήρου με εργαλεία ανοιχτού λογισμικού (PHP,MySQL,JQuery) από το 2013 για λογαριασμό της Δ/νσης Π.Ε. Ηρακλείου.

### ΣΗΜΕΙΩΣΗ: 
Το πρόγραμμα αποσπάσεων βελτιώσεων εξάγει δεδομένα σε μορφή excel (xls) τα οποία έπειτα χρησιμοποιούνται
στο κατάλληλα διαμορφωμένο πρόγραμμα PPYSDE (http://www.metallinos.gr/pysde.html) το οποίο διατίθεται ΔΩΡΕΑΝ και
χρησιμοποιείται με επιτυχία στη Δ/νση ΠΕ Ηρακλείου εδώ και κάποια χρόνια.

Στο πρόγραμμα αυτό, αφού προηγουμένως εισαχθούν τα στοιχεία εκπ/κών και σχολείων, εισάγονται τα στοιχεία 
του παρόντος προγράμματος από το αρχείο xls και πραγματοποιούνται οι αποσπάσεις / βελτιώσεις.
Περισσότερες πληροφορίες στη σελίδα του PPYSDE (http://www.metallinos.gr/pysde.html) ή στο email του δημιουργού gianpan@gmail.com


### ΟΔΗΓΙΕΣ
1. Αποσυμπιέστε και αντιγράψτε το φάκελο με όλα τα αρχεία σε ένα φάκελο του web server σας (π.χ. φάκελος apospaseis για είσοδο από URL  http://www.test.com/apospaseis)

2. Μετονομάστε το config.sample.php σε config.php και αλλάξτε τις βασικές παραμέτρους (βλ. παράρτημα). Οι παράμετροι της εφαρμογής μεταβάλλονται έπειτα από το περιβάλλον διαχείρισης.

3. Τρέξτε το init.php μέσω του οποίου δημιουργείτε μια Βάση Δεδομένων και λογαριασμό διαχειριστή και

4. Εισάγετε τα δεδομένα σας στους πίνακες Σχολείων, υπαλλήλων και Δήμων, σύμφωνα με τα πρότυπα αρχεία csv του φακέλου 'files' (βλ. παρατηρήσεις), από τη σελίδα 'Εισαγωγή Δεδομένων' του περιβάλλοντος διαχείρισης.

4. Διαγράψτε το αρχείο init.php. Η εφαρμογή είναι έτοιμη!


### ΠΑΡΑΤΗΡΗΣΕΙΣ
1. Στον πίνακα (αρχείο) σχολείων, 
    * το πεδίο "Ομάδα" μπορεί να χρησιμοποιηθεί για τον περιορισμό των αποσπάσεων, π.χ. εκπ/κός δεν μπορεί να πάρει απόσπαση σε σχολεία της ίδιας ομάδας. 
Για να αναιρέσετε αυτόν τον περιορισμό, βάλτε την τιμή 0 στο αντίστοιχο πεδίο, σε όλα τα σχολεία. 
    * Επίσης, όταν είναι ενεργό το πεδιό "inactive" (τιμή 1), το σχολείο δεν εμφανίζεται στις διαθέσιμες επιλογές του εκπ/κού (π.χ. για σχολείο σε αναστολή).
    * Πεδίο "id": Ο αύξων αριθμός του κάθε σχολείου. Προσοχή να μην είναι μηδέν και να μην επαναλαμβάνεται.
    * Πεδίο "dim": τιμή 1 για Νηπιαγωγεία, 2 για Δημοτικά, αλλιώς 0. Πεδίο "kwdikos": 7ψήφιος κωδικός ΥΠΑΙΘ.

2. Πίνακας (αρχείο) υπαλλήλων: 
    * Πεδίο "klados": Λεκτικό ειδικότητας, π.χ. ΠΕ70
    * Πεδίο "org": 7ψήφιος κωδικός ΥΠΑΙΘ. 
    * Πεδία eth,mhnes,hmeres: συνολική υπηρεσία μέχρι 31/8 τρέχοντος σχολικού έτους.

3. Βεβαιωθείτε ότι τα αρχεία έχουν το χαρακτήρα ";" ως διαχωριστικό


### ΠΑΡΑΡΤΗΜΑ: Αρχείο παραμέτρων (config.php):

##### Στοιχεία σύνδεσης (υποχρεωτικά)
* db_host = Όνομα εξυπηρετητή (server, π.χ. localhost)
* db_user = Όνομα διαχειριστή βάσης δεδομένων
* db_password = Κωδικός διαχειριστή βάσης δεδομένων
* db_name = Όνομα βάσης δεδομένων

##### Ονόματα πινάκων (μπορείτε να αφήσετε τις υπάρχουσες τιμές)
* av_emp = Πίνακας υπαλλήλων
* av_ait = Πίνακας αιτήσεων
* av_sch = Πίνακας σχολείων
* av_dimos = Πίνακας δήμων
* av_params = Πίνακας παραμέτρων

##### Παράμετροι αρχικοποίησης
* av_admin = Όνομα χρήστη διαχειριστή (ΠΡΟΣΟΧΗ: πρέπει να είναι ΑΡΙΘΜΗΤΙΚΟ)
(ΣΗΜ. Ο κωδικός χρήστη είναι το πεδίο ΑΦΜ του και εισάγεται στο init.php ή απευθείας στη βάση).
* av_admin_pass = Κωδικός ασφαλείας του διαχειριστή (ΠΡΟΣΟΧΗ: πρέπει να είναι ΑΡΙΘΜΗΤΙΚΟ)
* av_init_pass = Κωδικός ασφαλείας για το αρχικοποίηση βάσης (init.php)
